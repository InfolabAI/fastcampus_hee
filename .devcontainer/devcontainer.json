{
    "name": "MCP Security Training - All-in-One",
    // Phase 1 ë‹¨ìˆœí™” ì „ëµì— ë”°ë¥¸ ë‹¨ì¼ í†µí•© ì»¨í…Œì´ë„ˆ êµ¬ì„±
    "build": {
        // Phase 1 í†µí•© ë³´ì•ˆ ì‹¤ìŠµì„ ìœ„í•œ ì „ìš© Dockerfile
        "dockerfile": "Dockerfile.integrated",
        // ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì„¤ì •
        "context": ".."
    },
    // ì»¨í…Œì´ë„ˆ ìƒì„± í›„ ì‹¤í–‰í•  ëª…ë ¹ì–´
    "postCreateCommand": {
        "setup": "bash /scripts/setup_integrated_environment.sh",
        "demo": "echo 'ğŸš€ MCP ë³´ì•ˆ ì‹¤ìŠµ ì¤€ë¹„ ì™„ë£Œ! ì‹¤ìŠµ ì‹œì‘: python3 /scripts/security_demo.py'"
    },
    // í˜¸ìŠ¤íŠ¸ í´ë” ë§ˆìš´íŠ¸ ì„¤ì •
    // "mounts": [
    //     "source=${localWorkspaceFolder}/,target=/workspaces/fastcampus/,type=bind,consistency=cached"
    // ],
    // Phase 1 ì‹¤ìŠµì— í•„ìš”í•œ í¬íŠ¸ ì„¤ì •
    "forwardPorts": [
        8080, // MCP Server (HTTP transport)
        8081, // ë³´ì•ˆ ê°•í™”ëœ MCP Server (ì„ íƒì )
        8082 // ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (ì„ íƒì )
    ],
    "portsAttributes": {
        "8080": {
            "label": "MCP Server (ì·¨ì•½í•œ ë²„ì „)",
            "onAutoForward": "notify"
        },
        "8081": {
            "label": "MCP Server (ë³´ì•ˆ ê°•í™” ë²„ì „)",
            "onAutoForward": "notify"
        },
        "8082": {
            "label": "ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ",
            "onAutoForward": "openBrowser"
        }
    },
    // VS Code ì„¤ì • ë° í™•ì¥ í”„ë¡œê·¸ë¨
    "customizations": {
        "vscode": {
            "settings": {
                "python.defaultInterpreterPath": "/usr/local/bin/python",
                "python.linting.enabled": true,
                "python.linting.pylintEnabled": true,
                "terminal.integrated.defaultProfile.linux": "bash",
                // ë³´ì•ˆ ì‹¤ìŠµì„ ìœ„í•œ ì¶”ê°€ ì„¤ì •
                "files.associations": {
                    "*.log": "log",
                    "security.log": "json"
                },
                "json.schemas": [
                    {
                        "fileMatch": [
                            "security.log"
                        ],
                        "schema": {
                            "type": "object",
                            "properties": {
                                "timestamp": {
                                    "type": "string"
                                },
                                "event_type": {
                                    "type": "string"
                                },
                                "severity": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ]
            },
            "extensions": [
                // ê¸°ë³¸ Python ê°œë°œ ë„êµ¬
                "ms-python.python",
                "ms-python.vscode-pylance",
                // MCP ê´€ë ¨
                "anthropic.claude-code",
                "google.gemini-for-vscode",
                // ë³´ì•ˆ ì‹¤ìŠµ ë„êµ¬
                "humao.rest-client", // REST API í…ŒìŠ¤íŠ¸
                "ms-azuretools.vscode-docker", // Docker ê´€ë¦¬
                "redhat.vscode-yaml", // YAML í¸ì§‘
                "streetsidesoftware.code-spell-checker", // ì˜¤íƒ€ ê²€ì‚¬
                // ë¡œê·¸ ë¶„ì„ ë„êµ¬
                "emilast.LogFileHighlighter", // ë¡œê·¸ íŒŒì¼ í•˜ì´ë¼ì´íŒ…
                "IBM.output-colorizer" // ì¶œë ¥ ì»¬ëŸ¬ë§
            ]
        }
    },
    // í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
    "containerEnv": {
        // MCP ì„œë²„ ê¸°ë³¸ ì„¤ì •
        "MCP_SERVER_PORT": "8080",
        "MCP_SECURE_SERVER_PORT": "8081",
        // Node.js ì„¤ì •
        "NODE_VERSION": "22",
        "NVM_DIR": "/home/vscode/.nvm",
        // ë³´ì•ˆ ì‹¤ìŠµ í™˜ê²½
        "SECURITY_LAB_MODE": "enabled",
        "LOG_LEVEL": "INFO"
    },
    // ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì‚¬ìš©ì
    "remoteUser": "vscode",
    // ì¶”ê°€ ëŸ°íƒ€ì„ ì¸ì
    "runArgs": [
        "--cap-add=SYS_PTRACE", // ë””ë²„ê¹… ì§€ì›
        "--security-opt",
        "seccomp=unconfined" // ë³´ì•ˆ ì‹¤ìŠµì„ ìœ„í•œ ì„¤ì •
    ]
}